<div class="sidebar-sticky">
  <div class="sidebar-about">
    {% if site.logo %}
    <a class="no-hover" href="{{ '/' | relative_url }}" tabindex="-1">
      <img src="{% include_cached smart-url url=site.logo %}" class="avatar"
        alt="{{ site.short_title | default:site.title }}" width="120" height="120" loading="lazy" />
    </a>
    {% endif %}
    <a class="sidebar-title" href="{{ '/' | relative_url }}">
      <h2 class="h1" id="typing-title">
        <span id="typed-text"></span>
        <span class="typing-cursor">|</span>
      </h2>
    </a>
    {% assign text = site.tagline | default:site.description %}
    {% if text %}
    <p class="{% if text.size > 100 %}fine{% endif %}">
      {{ text | markdownify | replace:'
    <p>','' | replace:'</p>','' }}
    </p>
    {% endif %}
  </div>

  <nav class="sidebar-nav heading" role="navigation">
    {% include body/nav.html %}
  </nav>

  {% assign author = site.data.authors.first[1] | default:site.author %}
  <div class="sidebar-social">
    {% include components/social.html author=author %}
  </div>
</div>

<style>
  .typing-cursor {
    display: inline-block;
    width: 2px;
    height: 1em;
    margin-left: 4px;
    animation: blink 1s step-start infinite;
  }


  .typing-cursor.hide {
    background-color: transparent;
    animation: none;
  }

  @keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}


  #typed-text {
    border-right: none;
  }

  #typing-title {
    white-space: nowrap;
    min-height: 1em;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const texts = ["HDFLAB", "Digital Forensics", "Incident Response"];
    const typedTextElement = document.getElementById('typed-text');
    const cursorElement = document.querySelector('.typing-cursor');
    const typingDelay = 150;
    const erasingDelay = 100;
    const newTextDelay = 2000;

    let textIndex = 0;
    let charIndex = 0;
    let isDeleting = false;

    function type() {
      const currentText = texts[textIndex];

      if (isDeleting) {
        typedTextElement.textContent = currentText.substring(0, charIndex - 1);
        charIndex--;
        if (charIndex === 0) {
          isDeleting = false;
          textIndex = (textIndex + 1) % texts.length;
          setTimeout(type, typingDelay);
        } else {
          setTimeout(type, erasingDelay);
        }
      } else {
        typedTextElement.textContent = currentText.substring(0, charIndex + 1);
        charIndex++;
        if (charIndex === currentText.length) {
          isDeleting = true;
          setTimeout(type, newTextDelay);
        } else {
          setTimeout(type, typingDelay);
        }
      }
    }

    setTimeout(type, 500);
  });
</script>